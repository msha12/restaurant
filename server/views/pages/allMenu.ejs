<div class="mt-5 ms-3">
  <a href="./menu/add" class="btn btn-success px-4 py-2 fw-bold shadow-sm d-flex align-items-center" style="width: fit-content;">
    <i class="bi bi-plus-circle me-2"></i>
    <span>Add New Meal</span>
  </a>
</div>

<div class="container mt-4">
  <table class="table table-striped table-bordered text-center align-middle shadow-sm" style="width: 90%;">
    <thead class="table-dark">
      <tr>
        <th scope="col">#</th>
        <th scope="col">Name</th>
        <th scope="col">Price</th>
        <th scope="col">Image</th>
        <th scope="col">Available</th>
        <th scope="col">Actions</th>
      </tr>
    </thead>
    <tbody>
      <% allMenu.forEach((item, index) => { %>
        <tr>
          <th scope="row"><%= index +1 %></th>
          <td><%= item.name %></td>
          <td><%= item.price %> $</td>
          <td>
            <img src="/uploads/<%= item.image %>" alt="meal" 
                 style="width: 80px; height: 80px; ">
          </td>
          <td>
            <span class="badge <%= item.isAvailable ? 'bg-success' : 'bg-danger' %>">
              <%= item.isAvailable ? 'Yes' : 'No' %>
            </span>
          </td>
          <td>
            <a href="/menu/view/<%= item._id %>" 
               class="btn btn-outline-primary btn-sm me-1" 
               data-bs-toggle="tooltip" 
               data-bs-title="View details">
              <i class="bi bi-eye"></i>
            </a>

            <a href="/menu/edit/<%= item._id %>" 
               class="btn btn-outline-warning btn-sm me-1" 
               data-bs-toggle="tooltip" 
               data-bs-title="Edit Meal">
              <i class="bi bi-pencil"></i>
            </a>

            <a href="/menu/delete/<%= item._id %>" 
               class="btn btn-outline-danger btn-sm" 
               data-bs-toggle="tooltip" 
               data-bs-title="Delete Meal">
              <i class="bi bi-trash"></i>
            </a>
          </td>
        </tr>
      <% }) %>
    </tbody>
  </table>
</div>

<div class="d-flex justify-content-center mt-4">
    <ul class="pagination">
      <!-- Previous -->
      <li class="page-item <%= page === 1 ? 'disabled' : '' %>">
        <a class="page-link" href="/menu?page=<%= page - 1 %>">Previous</a>
      </li>

      <!-- Pages -->
      <% for(let i = 1; i <= totalPages; i++) { %>
        <li class="page-item <%= page === i ? 'active' : '' %>">
          <a class="page-link" href="/menu?page=<%= i %>"><%= i %></a>
        </li>
      <% } %>

      <!-- Next -->
      <li class="page-item <%= page === totalPages ? 'disabled' : '' %>">
        <a class="page-link" href="/menu?page=<%= page + 1 %>">Next</a>
      </li>
    </ul>
</div>
